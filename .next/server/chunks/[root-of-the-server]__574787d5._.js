module.exports=[88947,(e,t,r)=>{t.exports=e.x("stream",()=>require("stream"))},6461,(e,t,r)=>{t.exports=e.x("zlib",()=>require("zlib"))},61724,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},71269,e=>{"use strict";e.s(["ENV",()=>t]);let t={supabaseUrl:process.env.SUPABASE_URL,supabaseAnon:process.env.SUPABASE_ANON_KEY,supabaseService:process.env.SUPABASE_SERVICE_ROLE_KEY,bucket:process.env.SUPABASE_STORAGE_BUCKET||"specsheets",openaiKey:process.env.OPENAI_API_KEY,openaiModel:process.env.OPENAI_MODEL||"gpt-4o-mini",mistralApiKey:process.env.MISTRAL_API_KEY,workerBaseUrl:process.env.WORKER_BASE_URL||"http://localhost:3001",clerkPublishableKey:"pk_live_Y2xlcmsudHJ5YnJpZWZhaS5hcHAk",clerkSecretKey:process.env.CLERK_SECRET_KEY,maxFilesPerRun:parseInt(process.env.MAX_FILES_PER_RUN||"4"),maxPagesPerPdf:parseInt(process.env.MAX_PAGES_PER_PDF||"120"),maxMbPerPdf:parseInt(process.env.MAX_MB_PER_PDF||"30")}},45717,(e,t,r)=>{},37586,e=>{"use strict";e.s(["handler",()=>C,"patchFetch",()=>P,"routeModule",()=>_,"serverHooks",()=>y,"workAsyncStorage",()=>b,"workUnitAsyncStorage",()=>w],37586);var t=e.i(88146),r=e.i(89949),a=e.i(99518),s=e.i(83453),n=e.i(87522),o=e.i(74624),i=e.i(44882),l=e.i(71535),p=e.i(52939),d=e.i(66959),u=e.i(9353),c=e.i(61290),x=e.i(39799),h=e.i(69347),R=e.i(93695);e.i(4116);var v=e.i(3800);e.s(["GET",()=>A],48682);var E=e.i(39938),m=e.i(48011),g=e.i(71269);async function A(){let e={},t=(0,m.getSupabaseAdmin)();try{let{data:r,error:a}=await t.from("runs_new").select("id").limit(1);if(a)throw a;e.supabaseDb={ok:!0}}catch(t){e.supabaseDb={ok:!1,message:t.message}}try{let{data:r,error:a}=await t.storage.from(m.STORAGE_BUCKET).createSignedUrl("healthcheck.txt",60);if(a)throw a;e.storage={ok:!0}}catch(t){e.storage={ok:!1,message:t.message}}e.ocr={ok:!0,message:"OCR service not configured for production"};try{e.openai={ok:!!g.ENV.openaiKey}}catch(t){e.openai={ok:!1,message:t.message}}return E.NextResponse.json(e)}var f=e.i(48682);let _=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/debug/health/route",pathname:"/api/debug/health",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/brief-ui/src/app/api/debug/health/route.ts",nextConfigOutput:"",userland:f}),{workAsyncStorage:b,workUnitAsyncStorage:w,serverHooks:y}=_;function P(){return(0,a.patchFetch)({workAsyncStorage:b,workUnitAsyncStorage:w})}async function C(e,t,a){var E;let m="/api/debug/health/route";m=m.replace(/\/index$/,"")||"/";let g=await _.prepare(e,t,{srcPage:m,multiZoneDraftMode:!1});if(!g)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:A,params:f,nextConfig:b,isDraftMode:w,prerenderManifest:y,routerServerContext:P,isOnDemandRevalidate:C,revalidateOnlyGenerated:S,resolvedPathname:k}=g,N=(0,o.normalizeAppPath)(m),O=!!(y.dynamicRoutes[N]||y.routes[k]);if(O&&!w){let e=!!y.routes[k],t=y.dynamicRoutes[N];if(t&&!1===t.fallback&&!e)throw new R.NoFallbackError}let T=null;!O||_.isDev||w||(T="/index"===(T=k)?"/":T);let U=!0===_.isDev||!O,q=O&&!U,I=e.method||"GET",j=(0,n.getTracer)(),K=j.getActiveScopeSpan(),M={params:f,prerenderManifest:y,renderOpts:{experimental:{cacheComponents:!!b.experimental.cacheComponents,authInterrupts:!!b.experimental.authInterrupts},supportsDynamicResponse:U,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:null==(E=b.experimental)?void 0:E.cacheLife,isRevalidate:q,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a)=>_.onRequestError(e,t,a,P)},sharedContext:{buildId:A}},H=new i.NodeNextRequest(e),D=new i.NodeNextResponse(t),B=l.NextRequestAdapter.fromNodeNextRequest(H,(0,l.signalFromNodeResponse)(t));try{let o=async r=>_.handle(B,M).finally(()=>{if(!r)return;r.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=j.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==p.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let s=a.get("next.route");if(s){let e=`${I} ${s}`;r.setAttributes({"next.route":s,"http.route":s,"next.span_name":e}),r.updateName(e)}else r.updateName(`${I} ${e.url}`)}),i=async n=>{var i,l;let p=async({previousCacheEntry:r})=>{try{if(!(0,s.getRequestMeta)(e,"minimalMode")&&C&&S&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await o(n);e.fetchMetrics=M.renderOpts.fetchMetrics;let l=M.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let p=M.renderOpts.collectedTags;if(!O)return await (0,u.sendResponse)(H,D,i,M.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,c.toNodeOutgoingHttpHeaders)(i.headers);p&&(t[h.NEXT_CACHE_TAGS_HEADER]=p),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=h.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,a=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=h.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await _.onRequestError(e,t,{routerKind:"App Router",routePath:m,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isRevalidate:q,isOnDemandRevalidate:C})},P),t}},R=await _.handleResponse({req:e,nextConfig:b,cacheKey:T,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:C,revalidateOnlyGenerated:S,responseGenerator:p,waitUntil:a.waitUntil});if(!O)return null;if((null==R||null==(i=R.value)?void 0:i.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==R||null==(l=R.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,s.getRequestMeta)(e,"minimalMode")||t.setHeader("x-nextjs-cache",C?"REVALIDATED":R.isMiss?"MISS":R.isStale?"STALE":"HIT"),w&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let E=(0,c.fromNodeOutgoingHttpHeaders)(R.value.headers);return(0,s.getRequestMeta)(e,"minimalMode")&&O||E.delete(h.NEXT_CACHE_TAGS_HEADER),!R.cacheControl||t.getHeader("Cache-Control")||E.get("Cache-Control")||E.set("Cache-Control",(0,x.getCacheControlHeader)(R.cacheControl)),await (0,u.sendResponse)(H,D,new Response(R.value.body,{headers:E,status:R.value.status||200})),null};K?await i(K):await j.withPropagatedContext(e.headers,()=>j.trace(p.BaseServerSpan.handleRequest,{spanName:`${I} ${e.url}`,kind:n.SpanKind.SERVER,attributes:{"http.method":I,"http.target":e.url}},i))}catch(t){if(K||t instanceof R.NoFallbackError||await _.onRequestError(e,t,{routerKind:"App Router",routePath:N,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isRevalidate:q,isOnDemandRevalidate:C})}),O)throw t;return await (0,u.sendResponse)(H,D,new Response(null,{status:500})),null}}},6814,e=>{e.v(e=>Promise.resolve().then(()=>e(66877)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__574787d5._.js.map